<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">


<meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Login</title>

    <!-- ::::::::::::::Favicon icon::::::::::::::-->
   <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/png">

    <!-- ::::::::::::::All CSS Files here :::::::::::::: -->
    <!-- Vendor CSS -->
    <link rel="stylesheet" href="assets/css/vendor/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/vendor/ionicons.css">
    <link rel="stylesheet" href="assets/css/vendor/simple-line-icons.css">
    <link rel="stylesheet" href="assets/css/vendor/jquery-ui.min.css">

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="assets/css/plugins/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/plugins/animate.min.css">
    <link rel="stylesheet" href="assets/css/plugins/nice-select.css">
    <link rel="stylesheet" href="assets/css/plugins/venobox.min.css">
    <link rel="stylesheet" href="assets/css/plugins/jquery.lineProgressbar.css">
    <link rel="stylesheet" href="assets/css/plugins/aos.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
	<style>
		@keyframes slideIn {
			0% {
				left: -100%;
			}
	
			100% {
				left: 10px;
			}
		}
	</style>
    <!-- Use the minified version files listed below for better performance and remove the files listed above -->
    <!-- <link rel="stylesheet" href="assets/css/vendor/vendor.min.css">
    <link rel="stylesheet" href="assets/css/plugins/plugins.min.css">
    <link rel="stylesheet" href="assets/css/style.min.css"> -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>

<body>
    <!-- Start Header Area -->
    <div th:insert="include/header :: header"> </div>
    <!-- Start Header Area -->

    <!-- Start Mobile Header -->
    <div th:insert="include/mobile-header :: div"> </div>
    <!-- End Mobile Header -->

    <!--  Start Offcanvas Mobile Menu Section -->
     <div th:insert="include/mobile-menu :: div"> </div>
    <!-- ...:::: End Offcanvas Mobile Menu Section:::... -->

    <!-- Start Offcanvas Mobile Menu Section -->
    <div id="offcanvas-about" class="offcanvas offcanvas-rightside offcanvas-mobile-about-section">
        <!-- Start Offcanvas Header -->
        <div class="offcanvas-header text-right">
            <button class="offcanvas-close"><i class="ion-android-close"></i></button>
        </div> <!-- End Offcanvas Header -->
        <!-- Start Offcanvas Mobile Menu Wrapper -->
        <!-- Start Mobile contact Info -->
        <div class="mobile-contact-info">
            <div class="logo">
                <a href="index.html"><img src="assets/images/logo/logo_white.png" alt=""></a>
            </div>

            <address class="address">
                <span>Address: Your address goes here.</span>
                <span>Call Us: 0123456789, 0123456789</span>
                <span>Email: demo@example.com</span>
            </address>

            <ul class="social-link">
                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
            </ul>

            <ul class="user-link">
                <li><a href="wishlist.html">Wishlist</a></li>
                <li><a href="cart.html">Cart</a></li>
                <li><a href="checkout.html">Checkout</a></li>
            </ul>
        </div>
        <!-- End Mobile contact Info -->
    </div> <!-- ...:::: End Offcanvas Mobile Menu Section:::... -->

    <!-- Start Offcanvas Addcart Section -->
	 <div th:insert="include/cart-header :: div"> </div>
	<!-- End  Offcanvas Addcart Section -->

    <!-- Start Offcanvas Mobile Menu Section -->
     <div th:insert="include/wishlist-header :: div"> </div>
    <!-- End Offcanvas Mobile Menu Section -->

    <!-- Start Offcanvas Search Bar Section -->
    <div th:insert="include/search :: div"> </div>
    <!-- End Offcanvas Search Bar Section -->

    <!-- Offcanvas Overlay -->
    <div class="offcanvas-overlay"></div>

    <!-- ...:::: Start Breadcrumb Section:::... -->
    <div class="breadcrumb-section breadcrumb-bg-color--golden">
        <div class="breadcrumb-wrapper">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <h3 class="breadcrumb-title">Login</h3>
                        <div class="breadcrumb-nav breadcrumb-nav-color--black breadcrumb-nav-hover-color--golden">
                            <nav aria-label="breadcrumb">
                                <ul>
                                    <li><a href="/">Home</a></li>
                                    <li class="active" aria-current="page">Login</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
    <!-- ...:::: End Breadcrumb Section:::... -->

    <!-- ...:::: Start Customer Login Section :::... -->
    <div class="customer-login">
        <div class="container">
            <div class="row">
                <!--login area start-->
                <div class="col-lg-12 col-md-6">
                    <div class="account_form" data-aos="fade-up" data-aos-delay="0">
                        <h3>login</h3>
						<!--<div class="alert alert-danger" role="alert" th:text="${error}" th:if="${error}"></div>-->
                        <form action="login_user" method="post">
                            <div class="default-form-box">
                                <label>Username <span>*</span></label>
                                <input type="text" onblur="checkname()" id="name" name="name" placeholder="Enter register name">
                                <span id='nameerr' class='text-danger'></span>
                            </div>
                            <div class="default-form-box">
                                <label>Passwords <span>*</span></label>
                                <input type="password" onblur="checkpassword()" name="password" id="password" placeholder="Enter register password">
                                <span id='passeerr' class='text-danger'></span>
                            </div>
                            <div class="login_submit">
                                <button class="btn btn-md btn-black-default-hover mb-4" onclick='return checkvalidate()' type="submit">login</button>
                                <a href="forgot">Lost your password?</a>
                            </div>
                            <div class="text-center p-t-40">
						<span class="txt1">
							Dont's have an account?
						</span>

						<a style="color: black;" class="txt2" href="/register">
							Register
						</a>
					</div>
                        </form>
                    </div>
                </div>
                <!--login area start-->

            </div>
        </div>
    </div> 
    <!-- ...:::: End Customer Login Section :::... -->
	
	<div th:if="${error}" class="toast-container fixed-bottom bottom-0 start-0 p-3 border-l-4 border-first" 
	     style="animation: slideIn 0.5s ease-in-out forwards; z-index: 100;">
		<div style="background-color:#ff365d;" class="toast fade show" id="errorToast">
			<div style="font-size: 15px; "class="toast-body text-white text-center"><i class="fa fa-times"></i> [[${error}]]</div>
		</div>
	</div>
	<div th:if="${success}" class="toast-container fixed-bottom bottom-0 start-0 p-3 border-l-4 border-first" 
	     style="animation: slideIn 0.5s ease-in-out forwards; z-index: 100;">
		<div style="background-color:#ff365d;" class="toast fade show" id="errorToast">
			<div class="toast-body text-white text-center"><i class="fa fa-check"></i> [[${success}]]</div>
		</div>
	</div>
	<script>
		$(document).ready(function () {
			$('#loginForm').submit(function (event) {
				event.preventDefault();
				var formData = $(this).serialize(); // Serialize form data

				$.ajax({
					type: 'POST',
					url: '/api/login_users',
					data: formData,
					success: function () {
						window.location.href = "/account"; // Redirect to account page
					},
					error: function (xhr, status, error) {
						 if (xhr.status === 401) {
                        $('#error').text("Username and password do not match."); // Show error message for username and password mismatch
                    } else {
                        var errorMessage = xhr.responseText;
                        $('#error').text(errorMessage); // Show other error messages on the page
                    }
					}
				});
			});
		});
	</script>


    <!-- Start Footer Section -->
    <div th:insert="include/footer :: footer"> </div>
    <!-- End Footer Section -->

    <!-- material-scrolltop button -->
    <button class="material-scrolltop" type="button"></button>

	<script src="ajax/login.js"></script>
    <!-- ::::::::::::::All JS Files here :::::::::::::: -->
    <!-- Global Vendor, plugins JS -->
    <script src="assets/js/vendor/modernizr-3.11.2.min.js"></script>
    <script src="assets/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="assets/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="assets/js/vendor/bootstrap.min.js"></script>
    <script src="assets/js/vendor/jquery-ui.min.js"></script>

    <!--Plugins JS-->
    <script src="assets/js/plugins/swiper-bundle.min.js"></script>
    <script src="assets/js/plugins/material-scrolltop.js"></script>
    <script src="assets/js/plugins/jquery.nice-select.min.js"></script>
    <script src="assets/js/plugins/jquery.zoom.min.js"></script>
    <script src="assets/js/plugins/venobox.min.js"></script>
    <script src="assets/js/plugins/jquery.waypoints.js"></script>
    <script src="assets/js/plugins/jquery.lineProgressbar.js"></script>
    <script src="assets/js/plugins/aos.min.js"></script>
    <script src="assets/js/plugins/jquery.instagramFeed.js"></script>
    <script src="assets/js/plugins/ajax-mail.js"></script>

    <!-- Use the minified version files listed below for better performance and remove the files listed above -->
    <!-- <script src="assets/js/vendor/vendor.min.js"></script>
    <script src="assets/js/plugins/plugins.min.js"></script> -->

    <!-- Main JS -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/toast.js"></script>
    <script src="ajax/productsearch.js"></script>
</body>


</html>